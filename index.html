<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference | Customer API of BMATIC</title>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight {
  color: #faf6e4;
  background-color: #122b3b;
}
.highlight .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #6c8b9f;
  font-style: italic;
}
.highlight .cp {
  color: #b2fd6d;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .gr {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .k, .highlight .kd, .highlight .kv {
  color: #f6dd62;
  font-weight: bold;
}
.highlight .o, .highlight .ow {
  color: #4df4ff;
}
.highlight .p, .highlight .pi {
  color: #4df4ff;
}
.highlight .gd {
  color: #cc0000;
}
.highlight .gi {
  color: #b2fd6d;
}
.highlight .ge {
  font-style: italic;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .kc {
  color: #f696db;
  font-weight: bold;
}
.highlight .kn {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kp {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kr {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gh {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gu {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kt {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .no {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nc {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nd {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nn {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .bp {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .ne {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nl {
  color: #ffb000;
  font-weight: bold;
}
.highlight .nt {
  color: #ffb000;
  font-weight: bold;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #f696db;
  font-weight: bold;
}
.highlight .ld {
  color: #f696db;
  font-weight: bold;
}
.highlight .ss {
  color: #f696db;
  font-weight: bold;
}
.highlight .s, .highlight .sb, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .sr, .highlight .s1 {
  color: #fff0a6;
  font-weight: bold;
}
.highlight .se {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .sc {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .si {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .nb {
  font-weight: bold;
}
.highlight .ni {
  color: #999999;
  font-weight: bold;
}
.highlight .w {
  color: #BBBBBB;
}
.highlight .nf {
  color: #a8e1fe;
}
.highlight .py {
  color: #a8e1fe;
}
.highlight .na {
  color: #a8e1fe;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi {
  color: #a8e1fe;
  font-weight: bold;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.hiper.com.pe'>Powered by HIPER S.A.</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Customer API of BMATIC! You can use our API to integrate your application with us. Now, trought our endpoints you can access to services of BMATIC&rsquo;s branches from any application.</p>

<p>You can download <a href="swagger.json">our specification</a> and generate your own client in your preference language trought code generator of <a href="http://swagger.io/">swagger</a> and  speed up your integration with us.</p>

<p>Improve your customers&rsquo; experience!</p>

<p><strong>Schemes</strong>: <code class="prettyprint">http, https</code></p>

<p><strong>Host</strong>: <code class="prettyprint">api.bmatic.com</code></p>

<p><strong>Base path</strong>: <code class="prettyprint">/customer/v1</code></p>

<h1 id="getting-started">Getting Started</h1>

<p>Welcome to our API! Enjoy the integration!</p>

<h1 id="branch">Branch</h1>

<p>Before you create tickets or bookings, you need a branch and sector provided by the endpoints of this section (The bookings creation not required a sector). You considere use the recomended parameters for obtain a better performance in your application.</p>

<p><h2 id="the-branch-object">The Branch object</h2></p>

<blockquote>
<p>Sample object:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_bookable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sectors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"s9"</span><span class="p">,</span><span class="s2">"s10"</span><span class="p">,</span><span class="s2">"s30"</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Model of branch object.</p>

<aside class="warning">
<strong>Caution:</strong> The fields <code>low_estimated_time</code>, <code>high_estimated_time</code> and <code>congestion_level</code> are undefined when the branch is closed.
</aside>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong> <span class="param-type">string</span> <br>Branch unique identifier.</td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong> <span class="param-type">string</span> <br>Complete name of the branch. <p><em>Maximum length</em>: <code>120</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>short_name</strong> <span class="param-type">string</span> <br>Name to display in small devices. <p><em>Maximum length</em>: <code>20</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>code</strong> <span class="param-type">string</span> <br>Unique identifier for the branch used in your company system.</td>
</tr>
<tr>
<td style="text-align: left"><strong>address</strong> <span class="param-type">string</span> <br>Address of the branch. <p><em>Maximum length</em>: <code>100</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>latitude</strong> <span class="param-type">float</span> <br>Latitude component of branch location.</td>
</tr>
<tr>
<td style="text-align: left"><strong>longitude</strong> <span class="param-type">float</span> <br>Longitude component of branch location.</td>
</tr>
<tr>
<td style="text-align: left"><strong>status</strong> <span class="param-type">enum</span> <br>Current status of the branch. <p><em>Possible values</em>: <ul><li><code>OPEN</code></li><li><code>CLOSE</code></li></ul></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>opening_time</strong> <span class="param-type">date-time</span> <br>Opening time of the branch at current day, or next opening datetime. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>closing_time</strong> <span class="param-type">date-time</span> <br>Closing time of the branch at current day, or next closing datetime. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>low_estimated_time</strong> <span class="param-type">int</span> <br> Lower bound of the estimated waiting time.</p></td>
</tr>
<tr>
<td style="text-align: left"><strong>high_estimated_time</strong> <span class="param-type">int</span> <br> Upper bound of the estimated waiting time.</td>
</tr>
<tr>
<td style="text-align: left"><strong>congestion_level</strong> <span class="param-type">enum</span> <br> Congestion level of the branch. <p><em>Possible values</em>: <ul><li><code>LOW</code></li><li><code>MEDIUM</code></li><li><code>HIGH</code></li></ul></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>is_virtual</strong> <span class="param-type">boolean</span> <br> Indicator of the possibility to create virtual tickets.</td>
</tr>
<tr>
<td style="text-align: left"><strong>is_bookable</strong> <span class="param-type">boolean</span> <br>Indicator of the possibility to bookings.</td>
</tr>
<tr>
<td style="text-align: left"><strong>sectors</strong> <span class="param-type">array[<a href="#sector-object">Sector</a>]</span> <br> List of the branch&rsquo;s sectors.<p><em>Minimun items:</em> <code>1</code></p></td>
</tr>
</tbody></table>

<p><h2 id="the-sector-object">The Sector object</h2></p>

<p>Model of sector object.</p>

<blockquote>
<p>Sample object:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"s9"</span><span class="p">,</span><span class="s2">"s10"</span><span class="p">,</span><span class="s2">"s30"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong> <em>string</em> <br>Sector unique identifier. <p><em>Validation pattern</em>: <code>^[0-9a-z]{2,6}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong> <em>string</em> <br>Complete name of the sector. <p><em>Maximum length</em>: <code>120</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>short_name</strong> <em>string</em> <br>Name to display in small devices. <p><em>Maximum length</em>: <code>20</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>status</strong> <em>enum</em> <br>Current status of the sector. <p><em>Possible values</em>: <ul><li><code>OPEN</code></li><li><code>CLOSE</code></li></ul></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>services</strong> <em>array[string]</em> <br> List of ids of the services allowed at sector.<p><em>Unique items:</em> <code>true</code><br><em>Minimun items:</em> <code>1</code></p></td>
</tr>
</tbody></table>

<p><h2 id="list-all-branches">List all branches</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/customer/v1/branches?offset=9&amp;limit=1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-Pagination-Count</span><span class="p">:</span> <span class="s">32</span>
<span class="na">X-Pagination-Page</span><span class="p">:</span> <span class="s">10</span>
<span class="na">X-Pagination-Limit</span><span class="p">:</span> <span class="s">1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_bookable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sectors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"s9"</span><span class="p">,</span><span class="s2">"s10"</span><span class="p">,</span><span class="s2">"s30"</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid congestion level."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns all branches with their sectors that fulfill the filters.</p>

<aside class="notice">
<strong>Order:</strong> The branches are sorted by the better distance to client location and the branches in the page returned are sorted by <code>low_estimated_time</code>. If the client location is not provided then the branches only are sorted by <code>low_estimated_time</code>.
</aside>

<aside class="success">
<strong>Remember:</strong> The customers prefer to attend the nearest branches,for that it is recommendable ever use the parameters <code>longitude</code>, <code>latitude</code>, <code>min_latitude</code>, <code>max_latitude</code>, <code>min_latitude</code> and <code>max_longitude</code>.
</aside>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/branches</code></p>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>latitude</strong> <em>float</em> <span class="recomended-param">recomended</span><br> Latitude component of customer location.</td>
</tr>
<tr>
<td style="text-align: left"><strong>longitude</strong> <em>float</em> <span class="recomended-param">recomended</span><br> Longitude component of customer location.</td>
</tr>
<tr>
<td style="text-align: left"><strong>min_latitude</strong> <em>float</em> <span class="recomended-param">recomended</span><br> Minimun latitude of the area that has to contain the branches.</td>
</tr>
<tr>
<td style="text-align: left"><strong>max_latitude</strong> <em>float</em> <span class="recomended-param">recomended</span><br> Maximum latitude of the area that has to contain the branches.</td>
</tr>
<tr>
<td style="text-align: left"><strong>min_longitude</strong> <em>float</em> <span class="recomended-param">recomended</span><br> Minimun longitude of the area that has to contain the branches.</td>
</tr>
<tr>
<td style="text-align: left"><strong>max_longitude</strong> <em>float</em> <span class="recomended-param">recomended</span><br> Maximum longitude of the area that has to contain the branches.</td>
</tr>
<tr>
<td style="text-align: left"><strong>service_id</strong> <em>string</em> <br>Unique identifier of service requested by customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>is_virtual</strong> <em>boolean</em> <br> Flag of virtual ticket enable for branch.</td>
</tr>
<tr>
<td style="text-align: left"><strong>is_bookable</strong> <em>boolean</em> <br> Flag of booking enable for branch.</td>
</tr>
<tr>
<td style="text-align: left"><strong>status</strong> <em>enum</em> <br> Status of branch. Allowed values are <code class="prettyprint">open</code> and <code class="prettyprint">close</code>.</td>
</tr>
<tr>
<td style="text-align: left"><strong>code</strong> <em>string</em> <br> Unique identifier for the branch used in your company system.</td>
</tr>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,name,short_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><strong>offset</strong> <em>int</em> <br> Position in pagination. Default is <code class="prettyprint">0</code>, maximum is <code class="prettyprint">99999</code>.</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong> <em>int</em> <br> Number of items to retrieve. Default is <code class="prettyprint">10</code>, maximum is <code class="prettyprint">50</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em>array[<a href="#branch">Branch</a>]</em> <br>A list of branches. Pagination headers are included: <ul><li><strong>X-Pagination-Count:</strong> Total number of items.</li><li><strong>X-Pagination-Page:</strong> Number of the current page.</li><li><strong>X-Pagination-Limit:</strong> Number of items returned.</li></ul></td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="get-a-branch">Get a branch</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/customer/v1/branches/{branch_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
    </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_bookable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sectors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"s9"</span><span class="p">,</span><span class="s2">"s10"</span><span class="p">,</span><span class="s2">"s30"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested field not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Branch not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a specific branch requested by ID.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/branches/{branch_id}</code></p>

<h3 id="path-params">Path Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>branch_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of branch. For example <code class="prettyprint">27b6</code>.</td>
</tr>
</tbody></table>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,name,short_name</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em><a href="#branch">Branch</a></em> <br>A branch.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <em><a href="#error">Error</a></em> <br>Branch not found.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="list-all-branch-sectors">List all branch sectors</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v1/branches/{branch_id}/sectors?service_id=s9</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"s9"</span><span class="p">,</span><span class="s2">"s10"</span><span class="p">,</span><span class="s2">"s30"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested field not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">uccess response</span>
<span class="s">{</span>
<span class="s">    "message": "An error has ocurred.",</span>
<span class="s">    "code": "ab90",</span>
<span class="s">    "more_info": "https://bmatic.com/docs/errors/ab90"</span>
<span class="s">}</span>
</code></pre>

<p>Returns all sectors of a specific branch that fulfill the filters.</p>

<aside class="notice">
<strong>Order:</strong> The sectors are sorted by <code>short_name</code>.
</aside>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/branches/{branch_id}/sectors</code></p>

<h3 id="path-params">Path params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>branch_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of branch. For example <code class="prettyprint">27b6</code>.</td>
</tr>
</tbody></table>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>service_id</strong> <em>string</em> <br>Unique identifier of service requested by customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,name,short_name</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em>array[<a href="#sector">Sector</a>]</em> <br>A list of sectors.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<h1 id="service">Service</h1>

<p>A booking or ticket require to be associate to a service. You can obtain the available services from the endpoint of this section.</p>

<p><h2 id="the-service-object">The Service object</h2></p>

<blockquote>
<p>Sample model:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Model of service object.</p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong> <em>string</em> <br>Service unique identifier. <p><em>Validation pattern</em>: <code>^[0-9a-z]{2,6}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong> <em>string</em> <br>Complete name of the service. <p><em>Maximum length</em>: <code>120</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>short_name</strong> <em>string</em> <br>Name to display in small devices. <p><em>Maximum length</em>: <code>20</code></p></td>
</tr>
</tbody></table>

<p><h2 id="list-all-services">List all services</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/customer/v1/services</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested field not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns all available services that fulfill the filters.</p>

<aside class="notice">
<strong>Order:</strong> The services are sorted by <code>short_name</code>.
</aside>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/services</code></p>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>branch_id</strong> <em>string</em> <br>Unique identifier of branch.</td>
</tr>
<tr>
<td style="text-align: left"><strong>sector_id</strong> <em>string</em> <br>Unique identifier of sector.</td>
</tr>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,short_name</code>.</td>
</tr>
<tr>
<td style="text-align: left"><strong>offset</strong> <em>int</em> <br> Position in pagination. Default is <code class="prettyprint">0</code>, maximum is <code class="prettyprint">99999</code>.</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong> <em>int</em> <br> Number of items to retrieve. Default is <code class="prettyprint">10</code>, maximum is <code class="prettyprint">50</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em>array[<a href="#branch">Branch</a>]</em> <br>A list of services. Pagination headers are included: <ul><li><strong>X-Pagination-Count:</strong> Total number of items.</li><li><strong>X-Pagination-Page:</strong> Number of the current page.</li><li><strong>X-Pagination-Limit:</strong> Number of items returned.</li></ul></td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<h1 id="ticket">Ticket</h1>

<p>Your customers don&rsquo;t need anymore to be at branch for create attention tickets. You can use the endpoints of this section to allow them the ticket creation from anywhere easily, before the creation is necesary determine the branch, sector and service for the ticket.</p>

<p><h2 id="the-ticket-object">The Ticket object</h2></p>

<blockquote>
<p>Sample object:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89m32b0998"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"queue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKED"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"messages"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"We have a promotion for you!"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Model of ticket object.</p>

<aside class="warning">
<strong>Caution:</strong> The entities associated to ticket not provide all their fields for performance reasons. If you need more information, you can use others endpoints to get this information using the ids returned in the ticket. You can to see the default information provided in the sample object.
</aside>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong> <em>string</em> <br>Ticket unique identifier. <p><em>Validation pattern</em>: <code>^[0-9a-z]{8,16}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>queue</strong> <em>string</em> <br>Id of queue assigned to ticket. <p><em>Validation pattern</em>: <code>^[0-9a-zA-Z]{1,4}$</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>number</strong> <em>integer</em> <br>Position of ticket in queue. <p><em>Minimun</em>: <code>1</code><br> <em>Maximum</em>: <code>9999</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>channel</strong> <em>string</em> <br>Code of channel used. <p><em>Maximum length</em>: <code>20</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>status</strong> <em>enum</em> <br>Current status of the branch. <p><em>Possible values</em>: <ul><li><code>BLOCKED</code></li><li><code>ENABLED</code></li></ul></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>low_estimated_time</strong> <em>integer</em> <br> Lower bound of the estimated waiting time. <p><em>Minimun:</em> <code>0</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>high_estimated_time</strong> <em>integer</em> <br> Upper bound of the estimated waiting time. <p><em>Minimun:</em> <code>0</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>phone</strong> <em>string</em> <br>Customer phone for notifications. <p><em>Validation pattern</em>: <code>^+[1-9]{1}[0-9]{3,14}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>messages</strong> <em>array[string]</em> <br> List of messages to customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>branch</strong> <em><a href="#branch">Branch</a></em> <br> Branch associated.</p></td>
</tr>
<tr>
<td style="text-align: left"><strong>sector</strong> <em><a href="#sector">Sector</a></em> <br> Sector associated.</p></td>
</tr>
<tr>
<td style="text-align: left"><strong>service</strong> <em><a href="#service">Service</a></em> <br> Service associated.</p></td>
</tr>
<tr>
<td style="text-align: left"><strong>created_at</strong> <em>date-time</em> <br> Datetime of ticket creation. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>updated_at</strong> <em>date-time</em> <br> Datetime of the last update of ticket. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
</tbody></table>

<p><h2 id="list-all-tickets">List all tickets</h2></p>

<blockquote>
<p>Sample Request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/customer/v1/tickets?customer_id=m809a31n</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample Success Response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89m32b0998"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"queue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"messages"</span><span class="p">:[</span><span class="w">
            </span><span class="s2">"We have a promotion for you!"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
            </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"sector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid customer ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns all tickets created by a specific customer.</p>

<aside class="notice">
<strong>Order:</strong> The tickets are sorted descendantly by the field : <code>created_at</code>.
</aside>

<aside class="warning">
<strong>Caution:</strong> For this operation its necesary indicate a specific customer, You have two options, send the parameters <code>customer_id_type</code> and <code>customer_id_number</code> or just send <code>customer_id</code>. If you send all parameters, the API just consider the parameter <code>customer_id</code>.
</aside>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/tickets</code></p>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>customer_id</strong> <em>string</em> <span class="recomended-param">recomended</span><br>Customer unique identifier used in your company. <p><em>Validation pattern</em>: <code>^[0-9A-Za-z]{1,20}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_type</strong> <em>string</em> <br>Type of customer ID. <p><em>Validation pattern</em>: <code>^[0-9a-zA-Z]{1,2}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_number</strong> <em>integer</em> <br>Number of customer ID. <p><em>Validation pattern</em>: <code>^[0-9a-zA-Z]{1,16}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,queue,number</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em>array[<a href="#ticket">Ticket</a>]</em> <br>A list of tickets.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="get-a-ticket">Get a ticket</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/customer/v1/tickets/89m32b0998</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89m32b0998"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"queue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKED"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"messages"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"We have a promotion for you!"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested field not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ticket not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a customer ticket by ID.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/tickets/{ticket_id}</code></p>

<h3 id="path-params">Path Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>ticket_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of Ticket. For example <code class="prettyprint">89m32b0998</code>.</td>
</tr>
</tbody></table>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,queue,number</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em><a href="#ticket">Ticket</a></em> <br>A ticket.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <em><a href="#error">Error</a></em> <br>Ticket not found.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="create-a-ticket">Create a ticket</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/customer/v1/tickets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"branch_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9087s902m"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89m32b0998"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"queue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKED"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high_estimated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"messages"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"We have a promotion for you!"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tower A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T10:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid customer ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a new customer ticket and then returns it.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">POST /customer/v1/tickets</code></p>

<h3 id="request">Request</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>branch_id</strong> <em>string</em> <span class="required-param">required</span> <br> Unique identifier of branch request by customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>sector_id</strong> <em>string</em> <span class="required-param">required</span> <br> Unique identifier of sector requested by customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>service_id</strong> <em>string</em> <span class="required-param">required</span> <br> Unique identifier of service requested by customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>channel</strong> <em>string</em> <span class="recomended-param">recomended</span><br> Unique identifier of the channel used. Used only for audit purpose.</td>
</tr>
<tr>
<td style="text-align: left"><strong>phone</strong> <em>string</em> <span class="recomended-param">recomended</span><br> Customer phone for notifications.</td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id</strong> <em>string</em> <br> Unique identifier of the channel used. Used only for audit purpose.</td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_type</strong> <em>string</em> <br> Unique identifier of customer id type.</td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_number</strong> <em>string</em>  <br> Number of customer id.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>201</strong> <em><a href="#ticket">Ticket</a></em> <br>A ticket.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="update-a-ticket">Update a ticket</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/v1/tickets/89m32b0998</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid status."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ticket not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update a specific customer ticket.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">PATCH /customer/v1/tickets/{ticket_id}</code></p>

<h3 id="path-params">Path Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>ticket_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of ticket. For example <code class="prettyprint">89m32b0998</code>.</td>
</tr>
</tbody></table>

<h3 id="request">Request</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>status</strong> <em>enum</em> <br> New status for the ticket. Possible values are <code class="prettyprint">BLOCKED</code> and <code class="prettyprint">ENABLED</code>.</td>
</tr>
<tr>
<td style="text-align: left"><strong>phone</strong> <em>string</em> <br> New customer phone for notifications.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>204</strong> <em>no content</em> <br>Successful update.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <em><a href="#error">Error</a></em> <br>Ticket not found.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="delete-a-ticket">Delete a ticket</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/customer/v1/tickets/89m32b0998</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid ticket ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ticket not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete a customer ticket by ID.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">DELETE /customer/v1/tickets/{ticket_id}</code></p>

<h3 id="path-params">Path Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>ticket_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of ticket. For example <code class="prettyprint">89m32b0998</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>204</strong> <em>no content</em> <br>Successful deletion.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <em><a href="#error">Error</a></em> <br>Ticket not found.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<h1 id="booking">Booking</h1>

<p>Allow to your customers reserve a attention schedule for a better customer experience reducing the waiting time and better the congestion of your branches. The endpoints of this section allow the creation of bookings from your application.</p>

<p><h2 id="the-booking-object">The Booking object</h2></p>

<blockquote>
<p>Sample object:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a90mos70om"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UxMa01m"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Model of booking object.</p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong> <em>string</em> <br>Booking unique identifier. <p><em>Validation pattern</em>: <code>^[0-9a-z]{8,16}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>code</strong> <em>string</em> <br>Booking code to display it to customer. <p><em>Validation pattern</em>: <code>^[0-9a-zA-Z]{6,12}$</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>channel</strong> <em>string</em> <br>Code of channel used. <p><em>Maximum length</em>: <code>20</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>status</strong> <em>enum</em> <br>Current status of the booking. <p><em>Possible values</em>: <ul><li><code>ACTIVE</code></li><li><code>INACTIVE</code></li><li><code>DEFEATED</code></li></ul></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>phone</strong> <em>string</em> <br>Customer phone for notifications. <p><em>Validation pattern</em>: <code>^+[1-9]{1}[0-9]{3,14}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>branch</strong> <em><a href="#branch">Branch</a></em> <br> Branch associated.</p></td>
</tr>
<tr>
<td style="text-align: left"><strong>service</strong> <em><a href="#service">Service</a></em> <br> Service associated.</p></td>
</tr>
<tr>
<td style="text-align: left"><strong>start_time</strong> <em>date-time</em> <br> Start time of booking. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>end_time</strong> <em>date-time</em> <br> End time of booking.<p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>created_at</strong> <em>date-time</em> <br> Datetime of ticket creation. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>updated_at</strong> <em>date-time</em> <br> Datetime of the last update of ticket. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
</tbody></table>

<p><h2 id="the-booking-day-object">The Booking Day object</h2></p>

<blockquote>
<p>Sample object:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ranges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Model of day object with available bookings.</p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>day</strong> <em>date-time</em> <br> Date with available bookings. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>ranges</strong> <em>array[<a href="#booking_range_object">BookingRange</a>]</em> <br> List of time ranges with available bookings.</td>
</tr>
</tbody></table>

<p><h2 id="booking-range-object">Booking Range object</h2></p>

<blockquote>
<p>Sample object</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Model of time range object with available bookings.</p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>start_time</strong> <em>date-time</em> <br> Start time of range. <p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>end_time</strong> <em>date-time</em> <br> End time of range.<p><em>Standard</em>: <code><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></code></p></td>
</tr>
</tbody></table>

<p><h2 id="list-all-days-for-book">List all days for book</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v1/bookings/days?branch_id=27b6&amp;service_id=7b6</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-Pagination-Count</span><span class="p">:</span> <span class="s">7</span>
<span class="na">X-Pagination-Page</span><span class="p">:</span> <span class="s">3</span>
<span class="na">X-Pagination-Limit</span><span class="p">:</span> <span class="s">1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ranges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid branch ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a list of days for book a specific service in a branch.</p>

<aside class="notice">
<strong>Order:</strong> The booking days are sorted ascendantly by  <code>day</code>.
</aside>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/bookings/days</code></p>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>branch_id</strong> <em>string</em> <span title="required" class="required-param">required</span> <br> Unique identifier of branch requested.</td>
</tr>
<tr>
<td style="text-align: left"><strong>service_id</strong> <em>string</em> <span title="required" class="required-param">required</span> <br> Unique identifier of service requested.</td>
</tr>
<tr>
<td style="text-align: left"><strong>offset</strong> <em>int</em> <br> Position in pagination. Default is <code class="prettyprint">0</code>, maximum is <code class="prettyprint">99999</code>.</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong> <em>int</em> <br> Number of items to retrieve. Default is <code class="prettyprint">10</code>, maximum is <code class="prettyprint">50</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em>array[<a href="#booking-day-object">Booking</a>]</em> <br>A list of booking days. Pagination headers are included: <ul><li><strong>X-Pagination-Count:</strong> Total number of items.</li><li><strong>X-Pagination-Page:</strong> Number of the current page.</li><li><strong>X-Pagination-Limit:</strong> Number of items returned.</li></ul></td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="list-all-bookings">List all bookings</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/customer/v1/bookings?customer_id=m809a31n</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a90mos70om"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UxMa01m"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
            </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid customer ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns all tickets created by a specific customer.</p>

<aside class="notice">
<strong>Order:</strong> The bookings are sorted descendantly by the field : <code>created_at</code>.
</aside>

<aside class="warning">
<strong>Caution:</strong> For this operation its necesary indicate a specific customer, You have two options, send the parameters <code>customer_id_type</code> and <code>customer_id_number</code> or just send <code>customer_id</code>. If you send all parameters, the API just consider the parameter <code>customer_id</code>.
</aside>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/bookings</code></p>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>customer_id</strong> <em>string</em> <span class="recomended-param">recomended</span><br>Customer unique identifier used in your company. <p><em>Validation pattern</em>: <code>^[0-9A-Za-z]{1,20}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_type</strong> <em>string</em> <br>Type of customer ID. <p><em>Validation pattern</em>: <code>^[0-9a-zA-Z]{1,2}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_number</strong> <em>integer</em> <br>Number of customer ID. <p><em>Validation pattern</em>: <code>^[0-9a-zA-Z]{1,16}$</code></p></td>
</tr>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,code</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em>array[<a href="#ticket">Booking</a>]</em> <br>A list of bookings.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="get-a-booking">Get a booking</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v1/bookings/a90mos70om</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a90mos70om"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UxMa01m"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested field not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Booking not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns a customer booking by ID.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">GET /customer/v1/bookings/{booking_id}</code></p>

<h3 id="path-params">Path Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>booking_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of Booking. For example <code class="prettyprint">a90mos70om</code>.</td>
</tr>
</tbody></table>

<h3 id="query-params">Query Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>fields</strong> <em>array[string]</em> <span class="recomended-param">recomended</span> <br> Entity fields that will return at response. For example: <code class="prettyprint">fields=id,queue,number</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>200</strong> <em><a href="#booking">Booking</a></em> <br>A booking.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <em><a href="#error">Error</a></em> <br>Booking not found.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="create-a-new-booking">Create a new booking</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v1/bookings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"branch_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9087s902m"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a90mos70om"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UxMa01m"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51987776576"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper Central"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AG001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Beta 181 - 195, Callao"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.049919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.0845193</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"opening_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"closing_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T23:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"congestion_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEDIUM"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"short_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plataforma"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-20T15:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-10T14:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid branch ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a new customer booking and then it returns it.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">POST /customer/v1/bookings</code></p>

<h3 id="request">Request</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>branch_id</strong> <em>string</em> <span class="required-param">required</span> <br> Unique identifier of branch request by customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>service_id</strong> <em>string</em> <span class="required-param">required</span> <br> Unique identifier of service requested by customer.</td>
</tr>
<tr>
<td style="text-align: left"><strong>channel</strong> <em>string</em> <span class="recomended-param">recomended</span><br> Unique identifier of the channel used. Used only for audit purpose.</td>
</tr>
<tr>
<td style="text-align: left"><strong>phone</strong> <em>string</em> <span class="recomended-param">recomended</span><br> Customer phone for notifications.</td>
</tr>
<tr>
<td style="text-align: left"><strong>start_time</strong> <em>string</em> <span class="required-param">required</span> <br> Start time of booking.</td>
</tr>
<tr>
<td style="text-align: left"><strong>end_time</strong> <em>string</em> <span class="required-param">required</span> <br> End time of booking.</td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id</strong> <em>string</em> <br> Unique identifier of the channel used. Used only for audit purpose.</td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_type</strong> <em>string</em> <br> Unique identifier of customer id type.</td>
</tr>
<tr>
<td style="text-align: left"><strong>customer_id_number</strong> <em>string</em>  <br> Number of customer id.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>201</strong> <em><a href="#booking-object">Booking</a></em> <br>A booking.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="update-a-booking">Update a booking</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/customer/v1/bookings/a90mos70om</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+51908999189"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<blockquote>
<p>Sample errors responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid phone number."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Booking not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update a specific customer booking.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">PATCH /customer/v1/bookings/{booking_id}</code></p>

<h3 id="path-params">Path Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>booking_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of booking. For example <code class="prettyprint">a90mos70om</code>.</td>
</tr>
</tbody></table>

<h3 id="request">Request</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>phone</strong> <em>string</em> <br> New customer phone for notifications.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>204</strong> <em>no content</em> <br>Successful update.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <em><a href="#error">Error</a></em> <br>Booking not found.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<p><h2 id="delete-a-booking">Delete a booking</h2></p>

<blockquote>
<p>Sample request:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/customer/v1/bookings/a90mos70om</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample success response:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<blockquote>
<p>Sample error responses:</p>
</blockquote>

<pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">400</span> <span class="ne">Bad Request</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid phone number."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Booking not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">500</span> <span class="ne">Internal Server Error</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has ocurred."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab90"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/ab90"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete a customer booking by ID.</p>

<h3 id="endpoint">Endpoint</h3>

<p><code class="prettyprint">DELETE /customer/v1/bookings/{booking_id}</code></p>

<h3 id="path-params">Path Params</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>booking_id</strong> <em>string</em> <span class="required-param">required</span> <br>Unique identifier of booking. For example <code class="prettyprint">a90mos70om</code>.</td>
</tr>
</tbody></table>

<h3 id="responses">Responses</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>204</strong> <em>no content</em> <br>Successful deletion.</td>
</tr>
<tr>
<td style="text-align: left"><strong>400</strong> <em><a href="#error">Error</a></em> <br>Bad request.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <em><a href="#error">Error</a></em> <br>Booking not found.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <em><a href="#error">Error</a></em> <br>An error has occurred.</td>
</tr>
</tbody></table>

<h1 id="errors">Errors</h1>

<p>The description and the types of errors generated by our API are in this section, it&rsquo;s very important that your application control them appropriately.</p>

<p><h2 id="the-error-object">The Error object</h2></p>

<blockquote>
<p>Sample object:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not allowed service for the branch."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9m86"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"more_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bmatic.com/docs/errors/9m86"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>HTTP body used when an error occurred.</p>

<aside class="notice">The fields <code>code</code> and <code>more_info</code> to be return only when the error is documented.</aside>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>message</strong> <span class="param-type">string</span> <span class="required-param">required</span> <br> A descriptive message regarding the exception.</td>
</tr>
<tr>
<td style="text-align: left"><strong>code</strong> <span class="param-type">string</span> <br> An error code to find help for the exception.</td>
</tr>
<tr>
<td style="text-align: left"><strong>more_info</strong> <span class="param-type">string</span> <br> The URL of BMatic&rsquo;s documentation for the error code.</td>
</tr>
</tbody></table>

<p><h2 id="the-error-types">The error types</h2></p>

<p>The Customer API uses the following error codes:</p>

<table><thead>
<tr>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>400</strong> <span class="verb-description">Bad Request</span> <br> Occur when one or more parameters sended not meet with the established conditions.</td>
</tr>
<tr>
<td style="text-align: left"><strong>404</strong> <span class="verb-description">Not Found</span> <br> If you request a resource by ID  or an operation on it and the resource not exists then this error is produced.</td>
</tr>
<tr>
<td style="text-align: left"><strong>500</strong> <span class="verb-description">Internal Server Error</span> <br> When an unexpected error has ocurred, then this error is throwed.</td>
</tr>
</tbody></table>

<style>
    ul.enum {
        margin: 0;
        padding: 0 0 0 2px;
        list-style-position: inside;
    }
    .required {
        color: red;
        font-weight: bold;
    }
    a.pseudo {
        border-bottom:1px dashed;
        text-decoration: none;
    }
</style>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
